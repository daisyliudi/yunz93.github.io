<blockquote>
<p>折腾了两天，终于弄懂了在IntelliJ idea 里用maven来配置SSH项目的流程了，记录一下，话说我是不是有一个月没写过博客了==</p>
</blockquote>
<p>​    先说说为什么要使用maven，因为我都快被IDEA自动配置的SSH框架给弄疯了，自动配置的lib往往不全，需要一个个去找齐所有的lib。（不得不说这一点MyEclipse做得比IDEA要好，自动配置的环境往往没有缺这缺那的问题，但Eclipse的代码提示功能太弱了，写起程序来没有快感），然后我就发现了原来还有Maven这种一套pom.xml走天下的神器。</p>
<p>​    但网上的maven配置SSH框架的教程都缺胳膊少腿的，我参照多个教程才摸索出以下的内容，应该说是比较正确的和容易理解的。</p>
<h2 id="一、安装Maven"><a href="#一、安装Maven" class="headerlink" title="一、安装Maven"></a>一、安装Maven</h2><p>这块不多说，网上的教程很多。如果只使用IDEA的话，因为内部集成了，所以可以跳过这一步。</p>
<p><img src="MavenSSH\1.png" alt="1"></p>
<h2 id="二、创建Maven项目"><a href="#二、创建Maven项目" class="headerlink" title="二、创建Maven项目"></a>二、创建Maven项目</h2><p>Maven提供了大量的模版可供使用，这里我们选择web app模版，然后设置GroupId（类似于包名结构）、ArtifactId（即项目名），然后一路next，出现finished提示，选择enable auto-import，这将允许maven即时根据pom.xml文件的修改更新配置。<img src="MavenSSH\5.png" alt="5"></p>
<p>此时的项目文件夹结构如图：</p>
<p><img src="MavenSSH\6.png" alt="6"></p>
<h2 id="三、调整项目结构"><a href="#三、调整项目结构" class="headerlink" title="三、调整项目结构"></a>三、调整项目结构</h2><p>Maven 将项目划分为 main 和 test 两部分，main 中存放实际项目资源，test 存放测试项目资源，二者内部同时又划分为 source 和 resource 两部分，source 存放源代码，习惯上我们将该文件夹命名为 java，resource 存放资源配置文件。因此我们需要调整 Maven模版自动配置的项目结构如下，target 为输出文件夹。</p>
<p><img src="MavenSSH\7.png" alt="7"></p>
<h2 id="四、配置-pom-xml"><a href="#四、配置-pom-xml" class="headerlink" title="四、配置 pom.xml"></a>四、配置 pom.xml</h2><p>前面说到我之所以选择使用 Maven 的原因在于 IDEA 自动配置 SSH 框架太难用了，Maven 将所有依赖全写在 pom.xml 文件夹中，管理起来非常方便。所以我们需要在 pom.xml 中配置 SSH 的依赖，配置文件如下。</p>
<pre><code class="xml"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span>
  <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"</span>&gt;</span>
  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span>
  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.yunz.bao<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>MavenSSH<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span>
  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
  <span class="tag">&lt;<span class="name">name</span>&gt;</span>MavenSSH Maven Webapp<span class="tag">&lt;/<span class="name">name</span>&gt;</span>
  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.apache.org<span class="tag">&lt;/<span class="name">url</span>&gt;</span>
  <span class="tag">&lt;<span class="name">build</span>&gt;</span>
    <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>${artifactId}<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span>
    <span class="tag">&lt;<span class="name">resources</span>&gt;</span>
      <span class="tag">&lt;<span class="name">resource</span>&gt;</span>
        <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span>
        <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span>
      <span class="tag">&lt;/<span class="name">resource</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span>
    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span>
      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span>
        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span>
          <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.7<span class="tag">&lt;/<span class="name">source</span>&gt;</span>
          <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.7<span class="tag">&lt;/<span class="name">target</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span>
      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span>
  <span class="tag">&lt;/<span class="name">build</span>&gt;</span>
  <span class="tag">&lt;<span class="name">properties</span>&gt;</span>
    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span>
    <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>4.0.3.RELEASE<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span>
    <span class="tag">&lt;<span class="name">hibernate.version</span>&gt;</span>4.3.5.Final<span class="tag">&lt;/<span class="name">hibernate.version</span>&gt;</span>
    <span class="tag">&lt;<span class="name">struts.version</span>&gt;</span>2.3.16.1<span class="tag">&lt;/<span class="name">struts.version</span>&gt;</span>
  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span>

  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
    <span class="comment">&lt;!-- 添加SSH依赖 --&gt;</span>
    <span class="comment">&lt;!-- Struts2 --&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.struts<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>struts2-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>${struts.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
      <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span>
        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span>
          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javassist<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javassist<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span>
      <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>

    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.struts<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>struts2-spring-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>${struts.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>

    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>taglibs<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>standard<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>

    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0-alpha-1<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>

    <span class="comment">&lt;!-- 添加json支持 --&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.struts<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>struts2-json-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>${struts.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.sf.json-lib<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>json-lib<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
      <span class="tag">&lt;<span class="name">classifier</span>&gt;</span>jdk15<span class="tag">&lt;/<span class="name">classifier</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>

    <span class="comment">&lt;!-- 添加Hibernate依赖 --&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>${hibernate.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-dbcp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-dbcp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>

    <span class="comment">&lt;!-- 添加Log4J依赖  解决maven传递依赖中的版本冲突  --&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.15<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
      <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span>
        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span>
          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.mail<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mail<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span>
        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span>
          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.jms<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jms<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span>
        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span>
          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.sun.jdmk<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jmxtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span>
        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span>
          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.sun.jmx<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jmxri<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span>
      <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span>
      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>

    <span class="comment">&lt;!-- 添加javassist --&gt;</span>
    <span class="comment">&lt;!--     &lt;dependency&gt; --&gt;</span>
    <span class="comment">&lt;!--         &lt;groupId&gt;javassist&lt;/groupId&gt; --&gt;</span>
    <span class="comment">&lt;!--         &lt;artifactId&gt;javassist&lt;/artifactId&gt; --&gt;</span>
    <span class="comment">&lt;!--         &lt;version&gt;3.11.0.GA&lt;/version&gt; --&gt;</span>
    <span class="comment">&lt;!--     &lt;/dependency&gt; --&gt;</span>

    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>

    <span class="comment">&lt;!-- 添加Spring依赖 --&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>${spring.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>${spring.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
    <span class="comment">&lt;!--     &lt;dependency&gt; --&gt;</span>
    <span class="comment">&lt;!--         &lt;groupId&gt;org.springframework&lt;/groupId&gt; --&gt;</span>
    <span class="comment">&lt;!--         &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; --&gt;</span>
    <span class="comment">&lt;!--         &lt;version&gt;${spring.version}&lt;/version&gt; --&gt;</span>
    <span class="comment">&lt;!--         &lt;scope&gt;runtime&lt;/scope&gt; --&gt;</span>
    <span class="comment">&lt;!--     &lt;/dependency&gt; --&gt;</span>
    <span class="comment">&lt;!--
        Bean Factory and JavaBeans utilities (depends on spring-core)
        Define this if you use Spring Bean APIs (org.springframework.beans.*)
    --&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>${spring.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
    <span class="comment">&lt;!--
        Aspect Oriented Programming (AOP) Framework (depends on spring-core, spring-beans)
        Define this if you use Spring AOP APIs (org.springframework.aop.*)
    --&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>${spring.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
    <span class="comment">&lt;!-- 面向切面使用aspectj, cglib的作用是当对没有实现接口的类使用aspect的时候，可以使用CGLIB
        &lt;aop:aspectj-autoproxy proxy-target-class="true"/&gt;
    --&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.6.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cglib<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>cglib<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
    <span class="comment">&lt;!--
        Application Context (depends on spring-core, spring-expression, spring-aop, spring-beans)
        This is the central artifact for Spring's Dependency Injection Container and is generally always defined
    --&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>${spring.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
    <span class="comment">&lt;!--
        Object-to-Relation-Mapping (ORM) integration with Hibernate, JPA, and iBatis.
        (depends on spring-core, spring-beans, spring-context, spring-tx)
        Define this if you need ORM (org.springframework.orm.*)
    --&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-orm<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>${spring.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
    <span class="comment">&lt;!--
        Transaction Management Abstraction (depends on spring-core, spring-beans, spring-aop, spring-context)
        Define this if you use Spring Transactions or DAO Exception Hierarchy
        (org.springframework.transaction.*/org.springframework.dao.*)
    --&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-tx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>${spring.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
    <span class="comment">&lt;!--
        JDBC Data Access Library (depends on spring-core, spring-beans, spring-context, spring-tx)
        Define this if you use Spring's JdbcTemplate API (org.springframework.jdbc.*)
    --&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
      <span class="tag">&lt;<span class="name">version</span>&gt;</span>${spring.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>

  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span>
<span class="tag">&lt;/<span class="name">project</span>&gt;</span>
</code></pre>
<h2 id="五、添加SSH支持"><a href="#五、添加SSH支持" class="headerlink" title="五、添加SSH支持"></a>五、添加SSH支持</h2><p>在前面配置pom.xml 之后，maven 自动为我们添加了相关的SSH依赖包，但我们还需要在 resource 文件中添加相关配置文件。</p>
<ol>
<li><p>Spring配置</p>
<p>新建 Spring配置文件 applicationContext.xml，因为后面需要将 Hibernate的配置置于其中，我们将文件命名为 spring-hibernate.xml。</p>
<p><img src="MavenSSH\8.png" alt="8"></p>
<p>然后将该文件添加到 Project structure-Modules-Spring-Fileset 中</p>
<p><img src="MavenSSH\9.png" alt="9"></p>
</li>
<li><p>Hibernate 配置</p>
<p> Project structure-Modules 点 + 号，添加 Hibernate support</p>
<p><img src="MavenSSH\10.png" alt="10"></p>
<p>然后点Description 右上角加号，将 spring-hibernate.xml 添加到其 Configuration 中。</p>
<p><img src="MavenSSH\11.png" alt="11"></p>
</li>
<li><p>Struts2 配置</p>
<p>新建 Struts2 配置文件 struts.xml，然后类似与前面，将配置文件添加到Project structure-Modules-Struts2-Fileset 中，同时选中struts-default.xml和struct-plugin.xml。</p>
<p><img src="MavenSSH\12.png" alt="12"></p>
<p>至此，SSH 的环境配置基本完成，上述配置文件的内容我省略了，就是一般SSH整合项目的配置内容。</p>
</li>
</ol>
<p>此时项目结构如图：</p>
<p><img src="MavenSSH\13.png" alt="13"></p>
<h2 id="六、测试及一些问题"><a href="#六、测试及一些问题" class="headerlink" title="六、测试及一些问题"></a>六、测试及一些问题</h2><p>测试上面的框架，我们写一个简单的登录 Demo，如图。</p>
<p><img src="MavenSSH\14.png" alt="14"></p>
<p>注意：在使用 Hibernate  向导自动生成 实体类时，spring-hibernate.xml 自动生成配置。</p>
<pre><code class="xml"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"annotatedClasses"</span>&gt;</span>
            <span class="tag">&lt;<span class="name">list</span>&gt;</span>
                <span class="tag">&lt;<span class="name">value</span>&gt;</span>com.com.mahe.entity.Users<span class="tag">&lt;/<span class="name">value</span>&gt;</span>
            <span class="tag">&lt;/<span class="name">list</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">property</span>&gt;</span>
        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mappingLocations"</span>&gt;</span>
            <span class="tag">&lt;<span class="name">list</span>&gt;</span>
                <span class="tag">&lt;<span class="name">value</span>&gt;</span>classpath:com.mahe.entity/Users.hbm.xml<span class="tag">&lt;/<span class="name">value</span>&gt;</span>
            <span class="tag">&lt;/<span class="name">list</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">property</span>&gt;</span>
</code></pre>
<p>Maven 项目中默认的资源路径根目录为 resource 文件夹，而自动生成的实体类 entity.xml 在 java entity文件夹中，所以这里 mappingLocation 的属性值是有问题的。解决方法有两种，一种是改属性值，一种是在 resource 文件夹中建立和 java entity文件夹一样的结构，将 entity.xml 文件拷贝过来。</p>
<p>过程中还遇到两个问题，折腾了好久，但莫名其妙又消失了，真是玄学。</p>
<p>运行成功。</p>
<p><img src="MavenSSH\15.png" alt="15"></p>
<p><img src="MavenSSH\16.png" alt="16"></p>
